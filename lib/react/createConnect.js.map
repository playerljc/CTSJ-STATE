{"version":3,"sources":["react/createConnect.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_extends2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_react","_immutable","_Context","_default","mapStateToProps","mapDispatchToProps","Component","Callback","_React$Component","_class","props","_this","this","call","state","key","_this2","unsubscribe","store","subscribe","getState","setState","_this3","createElement","ProviderContext","Consumer","_ref","dispatch","bind","cloneDeep"],"mappings":"AAAA,aAEA,IAAIA,uBAAyBC,QAAQ,gDAErCC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAiB,aAAI,EAErB,IAAIE,UAAYN,uBAAuBC,QAAQ,mCAE3CM,iBAAmBP,uBAAuBC,QAAQ,0CAElDO,cAAgBR,uBAAuBC,QAAQ,uCAE/CQ,4BAA8BT,uBAAuBC,QAAQ,qDAE7DS,iBAAmBV,uBAAuBC,QAAQ,0CAElDU,WAAaX,uBAAuBC,QAAQ,oCAE5CW,OAASZ,uBAAuBC,QAAQ,UAExCY,WAAab,uBAAuBC,QAAQ,sBAE5Ca,SAAWb,QAAQ,aAQnBc,SAAW,SAAkBC,EAAiBC,GAMhD,OAAO,SAAUC,EAAWC,GAC1B,OAEE,SAAUC,GAGR,SAASC,EAAOC,GACd,IAAIC,EAOJ,OALA,EAAIhB,iBAA0B,SAAGiB,KAAMH,IACvCE,GAAQ,EAAId,4BAAqC,SAAGe,MAAM,EAAId,iBAA0B,SAAGW,GAAQI,KAAKD,KAAMF,KACxGI,MAAQ,CACZA,MAAO,MAEFH,EAkDT,OA5DA,EAAIZ,WAAoB,SAAGU,EAAQD,IAanC,EAAIZ,cAAuB,SAAGa,EAAQ,CAAC,CACrCM,IAAK,oBACLtB,MAAO,WACL,IAAIuB,EAASJ,KAEbA,KAAKK,YAAcL,KAAKM,MAAMC,UAAU,WACtC,IAAIL,EAAQE,EAAOE,MAAME,WAEzBJ,EAAOK,SAAS,CACdP,MAAOA,GACN,WACGP,GACFA,UAKP,CACDQ,IAAK,uBACLtB,MAAO,WACLmB,KAAKK,gBAEN,CACDF,IAAK,SACLtB,MAAO,WACL,IAAI6B,EAASV,KAEb,OAAOZ,OAAgB,QAAEuB,cAAcrB,SAASsB,gBAAgBC,SAAU,KAAM,SAAUC,GACxF,IAAIR,EAAQQ,EAAKR,MACZI,EAAOJ,QAAOI,EAAOJ,MAAQA,GAClC,IAAIJ,EAAQQ,EAAOR,MAAMA,MAAQQ,EAAOR,MAAMA,MAAQQ,EAAOJ,MAAME,WAC/DO,EAAW,GAEXtB,IACFsB,EAAWtB,EAAmBiB,EAAOJ,MAAMS,SAASC,KAAKN,EAAOJ,SAGlE,IAAIR,EAAQ,GAMZ,OAJIN,IACFM,EAAQN,EAAgBH,WAAoB,QAAE4B,UAAUf,KAGnDd,OAAgB,QAAEuB,cAAcjB,GAAW,EAAIZ,UAAmB,SAAG,GAAIgB,EAAOY,EAAOZ,MAAOiB,UAIpGlB,EA/DJ,CAgEHT,OAAgB,QAAEM,aAK1Bd,QAAiB,QAAIW","file":"createConnect.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _immutable = _interopRequireDefault(require(\"../util/immutable\"));\n\nvar _Context = require(\"./Context\");\n\n/**\r\n * createConnect\r\n * @param {Function} - mapStateToProps\r\n * @param {Function} - mapDispatchToProps\r\n * @return {HOC}\r\n */\nvar _default = function _default(mapStateToProps, mapDispatchToProps) {\n  /**\r\n   * ConnectHOC\r\n   * @param {ReactElement} - Component\r\n   * @param {Func} - Callback\r\n   */\n  return function (Component, Callback) {\n    return (\n      /*#__PURE__*/\n      function (_React$Component) {\n        (0, _inherits2[\"default\"])(_class, _React$Component);\n\n        function _class(props) {\n          var _this;\n\n          (0, _classCallCheck2[\"default\"])(this, _class);\n          _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(_class).call(this, props));\n          _this.state = {\n            state: null\n          };\n          return _this;\n        }\n\n        (0, _createClass2[\"default\"])(_class, [{\n          key: \"componentDidMount\",\n          value: function componentDidMount() {\n            var _this2 = this;\n\n            this.unsubscribe = this.store.subscribe(function () {\n              var state = _this2.store.getState();\n\n              _this2.setState({\n                state: state\n              }, function () {\n                if (Callback) {\n                  Callback();\n                }\n              });\n            });\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function componentWillUnmount() {\n            this.unsubscribe();\n          }\n        }, {\n          key: \"render\",\n          value: function render() {\n            var _this3 = this;\n\n            return _react[\"default\"].createElement(_Context.ProviderContext.Consumer, null, function (_ref) {\n              var store = _ref.store;\n              if (!_this3.store) _this3.store = store;\n              var state = _this3.state.state ? _this3.state.state : _this3.store.getState();\n              var dispatch = {};\n\n              if (mapDispatchToProps) {\n                dispatch = mapDispatchToProps(_this3.store.dispatch.bind(_this3.store));\n              }\n\n              var props = {};\n\n              if (mapStateToProps) {\n                props = mapStateToProps(_immutable[\"default\"].cloneDeep(state));\n              }\n\n              return _react[\"default\"].createElement(Component, (0, _extends2[\"default\"])({}, props, _this3.props, dispatch));\n            });\n          }\n        }]);\n        return _class;\n      }(_react[\"default\"].Component)\n    );\n  };\n};\n\nexports[\"default\"] = _default;"]}
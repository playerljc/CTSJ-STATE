
const _interopRequireDefault = require('@babel/runtime/helpers/interopRequireDefault');

Object.defineProperty(exports, '__esModule', { value: !0 }), exports.default = void 0; const _extends2 = _interopRequireDefault(require('@babel/runtime/helpers/extends')), _objectWithoutProperties2 = _interopRequireDefault(require('@babel/runtime/helpers/objectWithoutProperties')), _classCallCheck2 = _interopRequireDefault(require('@babel/runtime/helpers/classCallCheck')), _createClass2 = _interopRequireDefault(require('@babel/runtime/helpers/createClass')), _possibleConstructorReturn2 = _interopRequireDefault(require('@babel/runtime/helpers/possibleConstructorReturn')), _getPrototypeOf2 = _interopRequireDefault(require('@babel/runtime/helpers/getPrototypeOf')), _inherits2 = _interopRequireDefault(require('@babel/runtime/helpers/inherits')), _react = _interopRequireDefault(require('react')), _immutable = _interopRequireDefault(require('../util/immutable')), _Context = require('./Context'), _default = function (a, l) { return function (s) { return (function (e) { function r(e) { let t; return (0, _classCallCheck2.default)(this, r), (t = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(r).call(this, e))).state = { state: null }, t; } return (0, _inherits2.default)(r, e), (0, _createClass2.default)(r, [{ key: 'componentDidMount', value() { const i = this; this.unsubscribe = this.store.subscribe((u) => { const e = i.store.getState(); i.setState({ state: e }, () => { const e = u.success, t = u.ins, r = (0, _objectWithoutProperties2.default)(u, ['success', 'ins']); e && t && i.ins === t && e.call(t, _immutable.default.cloneDeep(r)); }); }); } }, { key: 'componentWillUnmount', value() { this.unsubscribe(); } }, { key: 'getInstance', value() { return this.ins; } }, { key: 'render', value() { const n = this; return _react.default.createElement(_Context.ProviderContext.Consumer, null, (e) => { const t = e.store; n.store || (n.store = t); let r = n.state.state ? n.state.state : n.store.getState(), u = {}; l && (u = l(n.store.dispatch.bind(n.store))); let i = {}; return a && (i = a(_immutable.default.cloneDeep(r))), _react.default.createElement(s, (0, _extends2.default)({ ref(e) { return n.ins = e; } }, i, n.props, u)); }); } }]), r; }(_react.default.Component)); }; };

exports.default = _default;
// # sourceMappingURL=createConnect.js.map

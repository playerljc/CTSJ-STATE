"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_react=_interopRequireDefault(require("react")),_immutable=_interopRequireDefault(require("../util/immutable")),_Context=require("./Context"),_default=function(s,l){return function(a,u){return function(e){function r(e){var t;return(0,_classCallCheck2.default)(this,r),(t=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(r).call(this,e))).state={state:null},t}return(0,_inherits2.default)(r,e),(0,_createClass2.default)(r,[{key:"componentDidMount",value:function(){var r=this;this.unsubscribe=this.store.subscribe(function(e){var t=r.store.getState();r.setState({state:t},function(){u&&u({ins:r.ins,action:e})})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"getInstance",value:function(){return this.ins}},{key:"render",value:function(){var i=this;return _react.default.createElement(_Context.ProviderContext.Consumer,null,function(e){var t=e.store;i.store||(i.store=t);var r=i.state.state?i.state.state:i.store.getState(),u={};l&&(u=l(i.store.dispatch.bind(i.store)));var n={};return s&&(n=s(_immutable.default.cloneDeep(r))),_react.default.createElement(a,(0,_extends2.default)({ref:function(e){return i.ins=e}},n,i.props,u))})}}]),r}(_react.default.Component)}};exports.default=_default;
//# sourceMappingURL=createConnect.js.map

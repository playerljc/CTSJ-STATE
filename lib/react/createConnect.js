"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_immutable=_interopRequireDefault(require("../util/immutable")),_default=function(n,a){return function(s){var e=function(e){function t(e){var u;return(0,_classCallCheck2.default)(this,t),u=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(t).call(this,e)),(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(u),"onSubscribe",function(i){var e=(0,_assertThisInitialized2.default)(u).context.store.getState();u.setState({state:e},function(){var e=i.success,t=i.ins,r=(0,_objectWithoutProperties2.default)(i,["success","ins"]);e&&t&&u.ins===t&&e.call(t,_immutable.default.cloneDeep(r))})}),u.state={state:null},u}return(0,_inherits2.default)(t,e),(0,_createClass2.default)(t,[{key:"componentDidMount",value:function(){var e=this.context.store;this.unsubscribe=e.subscribe(this.onSubscribe)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"getInstance",value:function(){return this.ins}},{key:"render",value:function(){var t=this,e=this.context.store,r=e.getState(),i={};a&&(i=a(e.dispatch.bind(e)));var u={};return n&&(u=n(r)),_react.default.createElement(s,(0,_extends2.default)({ref:function(e){t.ins=e}},this.props,u,i,{dispatch:e.dispatch}))}}]),t}(_react.default.Component);return e.contextTypes={store:_propTypes.default.object},e}};exports.default=_default;
//# sourceMappingURL=createConnect.js.map

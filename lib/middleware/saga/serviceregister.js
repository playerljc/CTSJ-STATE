"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Config,_regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){(0,_defineProperty2.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var _default={initConfig:function(e){Config=e},mapStateToProps:function(e){var t,r=e.namespace,n=e.state;return t={},(0,_defineProperty2.default)(t,r,n[r]),(0,_defineProperty2.default)(t,"loading",n.loading.global),t},mapDispatchToProps:function(e){var t=e.namespaces,o=e.dispatch,a={};return(t&&t.length?t:Object.keys(Config)).forEach(function(n){var e=Config[n];Object.keys(e).forEach(function(e){var t="".concat(n).concat(e.charAt(0).toUpperCase()).concat(e.substring(1)),r="".concat(n,"/").concat(e);a[t]=function(e){return o(Object.assign({type:r},e))}})}),a},model:function(e){var d=Config[e],t={namespace:e,effects:{},reducers:{receive:function(e,t){return _objectSpread({},e,{},t.payload)}}};return Object.keys(d).forEach(function(l){"default"!==l&&(t.effects[l]=_regenerator.default.mark(function e(t,r){var n,o,a,c,i,u,f,s,p;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.call,o=r.put,a=t.success,c=(0,_objectWithoutProperties2.default)(t,["success"]),e.next=4,n(d[l],c);case 4:if(i=e.sent,u=d.default,f=u.codeKey,s=u.codeSuccessKey,p=u.dataKey,i[f]===s)return a&&a(),e.next=10,o({type:"receive",payload:(0,_defineProperty2.default)({},l,i[p])});e.next=10;break;case 10:case"end":return e.stop()}},e)}))}),t}};exports.default=_default;
//# sourceMappingURL=serviceregister.js.map

"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");require("core-js/modules/es.array.for-each"),require("core-js/modules/es.array.index-of"),require("core-js/modules/es.array.splice"),require("core-js/modules/es.function.bind"),require("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),History=function(){function e(){(0,_classCallCheck2.default)(this,e),this.handlers=[],this.onHash=this.onHash.bind(this),this.initEvent()}return(0,_createClass2.default)(e,[{key:"initEvent",value:function(){window.addEventListener("hashchange",this.onHash)}},{key:"removeEvent",value:function(){window.removeEventListener("hashchange",this.onHash)}},{key:"onHash",value:function(){this.handlers.forEach(function(e){e({patchname:window.location.pathname})})}},{key:"listen",value:function(r){var s=this;return this.handlers.push(r),function(){var e=s.handlers.indexOf(r);-1!==e&&s.handlers.splice(e,1)}}}]),e}(),_default=new History;exports.default=_default;
//# sourceMappingURL=history.js.map

{"version":3,"file":"put.js","sources":["middleware/saga/put.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\n/**\n * put\n * @param store\n * @param params\n * @param model\n * @param run\n * @return {Function}\n */\nvar _default = function _default(_ref) {\n  var store = _ref.store,\n      params = _ref.params,\n      model = _ref.model,\n      run = _ref.run;\n  return function (_ref2) {\n    var type = _ref2.type,\n        other = (0, _objectWithoutProperties2[\"default\"])(_ref2, [\"type\"]);\n    // effects和reducers都已调用\n    var effects = model.effects,\n        reducers = model.reducers; // 如果是effect\n\n    if (effects[type]) {\n      // 如果调用的是effect，这里的state是model中的state\n      return run({\n        g: effects[type],\n        state: store.state[model.namespace],\n        params: params,\n        model: model\n      }); // 如果调用的是reducer\n    } // 如果是reduce\n    else if (reducers[type]) {\n        model.state = reducers[type](store.state[model.namespace], other);\n        return model.state;\n      }\n  };\n};\n\nexports[\"default\"] = _default;"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_objectWithoutProperties2","_default","_ref","store","params","model","run","_ref2","type","other","effects","reducers","g","state","namespace"],"mappings":"aAEA,IAAIA,uBAAyBC,QAAQ,gDAErCC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAiB,aAAI,EAErB,IAAIE,0BAA4BN,uBAAuBC,QAAQ,mDAU3DM,SAAW,SAAkBC,GAC/B,IAAIC,EAAQD,EAAKC,MACbC,EAASF,EAAKE,OACdC,EAAQH,EAAKG,MACbC,EAAMJ,EAAKI,IACf,OAAO,SAAUC,GACf,IAAIC,EAAOD,EAAMC,KACbC,GAAQ,EAAIT,0BAAmC,SAAGO,EAAO,CAAC,SAE1DG,EAAUL,EAAMK,QAChBC,EAAWN,EAAMM,SAErB,OAAID,EAAQF,GAEHF,EAAI,CACTM,EAAGF,EAAQF,GACXK,MAAOV,EAAMU,MAAMR,EAAMS,WACzBV,OAAQA,EACRC,MAAOA,IAGFM,EAASH,IACdH,EAAMQ,MAAQF,EAASH,GAAML,EAAMU,MAAMR,EAAMS,WAAYL,GACpDJ,EAAMQ,YAFZ,IAOTf,QAAiB,QAAIG"}